### How the different plugins interact

Diagram created using [venn.nvim](https://github.com/jbyuki/venn.nvim).

```

 ┌─────────────────────────────────┐ ┌───────────────────────┐┌────────────────────┐
 │      ntangle-ts                 │ │        ntangle-lsp    ││      LSP           │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 │   ┌────────────────────┐        │ │                       ││                    │
 │   │ Register callbacks │        │ │                       ││                    │
 │   │                    │ ◄───────────────── setup()       ││                    │
 │   │(on_init, on_change)│        │ │                       ││                    │
 │   └────────────────────┘        │ │                       ││                    │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 │       open *.t file             │ │                       ││                    │
 │            │                    │ │                       ││                    │
 │            ▼                    │ │                       ││                    │
 │    ┌──────────────────┐         │ │                       ││                    │
 │    │ Call callbacks   │         │ │                       ││                    │
 │    │                  ├─────────────► on_init             ││                    │
 │    │   (on_init)      │         │ │    │                  ││                    │
 │    └──────────────────┘         │ │    │  ┌────────────────────────────────┐    │
 │                                 │ │    │  │          nvim-lspconfig        │    │
 │                                 │ │    │  │                                │    │
 │                                 │ │    └────────► nasty debug lib          │    │
 │                                 │ │       │       hack to get LSP          │    │
 │                                 │ │    ┌───────── server config            │    │
 │                                 │ │    │  │                                │    │
 │                                 │ │    │  │                                │    │
 │                                 │ │    │  │                                │    │
 │                                 │ │    ├────────► using the server         │    │
 │                                 │ │    │  │       config get rootdir       │    │
 │                                 │ │    │  │             │                  │    │
 │                                 │ │    │  │             │                  │    │
 │                                 │ │    ├────────────────┘                  │    │
 │                                 │ │    │  │                                │    │
 │                                 │ │    │  │                                │    │
 │                                 │ │    │  └────────────────────────────────┘    │
 │                                 │ │    │                  ││                    │
 │                                 │ │    │                  ││      LSP           │
 │                                 │ │    │                  ││                    │
 │                                 │ │    │                  ││                    │
 │                                 │ │    ▼                  ││                    │
 │                                 │ │                   YES ││                    │
 │                                 │ │  is rootdir new ──────────►  spawn new      │
 │                                 │ │                       ││     LSP client     │
 │                                 │ │  NO  │                ││       │            │
 │                                 │ │      ├─────────────────────────┘            │
 │                                 │ │      │                ││                    │
 │                                 │ │      │                ││                    │
 │                                 │ │      └─────────────────────► send didOpen   │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 │      change *.t file            │ │                       ││                    │
 │            │                    │ │                       ││                    │
 │            ▼                    │ │                       ││                    │
 │     ┌────────────────┐          │ │                       ││                    │
 │     │ incremental    │          │ │                       ││                    │
 │     │ tangling       │          │ │                       ││                    │
 │     └────────────────┘          │ │                       ││                    │
 │            │                    │ │                       ││                    │
 │            │                    │ │                       ││                    │
 │            │                    │ │                       ││                    │
 │            ▼                    │ │                       ││                    │
 │    ┌─────────────────┐          │ │                       ││                    │
 │    │ call callbacks  │          │ │                       ││                    │
 │    │                 │───────────────► on_change          ││                    │
 │    │   (on_change)   │          │ │                       ││                    │
 │    └─────────────────┘          │ │        │              ││                    │
 │                                 │ │        │              ││                    │
 │                                 │ │        └───────────────────►  didChange     │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 │                                 │ │                       ││                    │
 └─────────────────────────────────┘ └───────────────────────┘└────────────────────┘
```
